#include <iostream>
#include <string>
#include <map>
using namespace std;

map<string, string> dah = {
    {".-", "A"}, {"-...", "B"}, {"-.-.", "C"}, {"-..", "D"}, {".", "E"},
    {"..-.", "F"}, {"--.", "G"}, {"....", "H"}, {"..", "I"}, {".---", "J"},
    {"-.-", "K"}, {".-..", "L"}, {"--", "M"}, {"-.", "N"}, {"---", "O"},
    {".--.", "P"}, {"--.-", "Q"}, {".-.", "R"}, {"...", "S"}, {"-", "T"},
    {"..-", "U"}, {"...-", "V"}, {".--", "W"}, {"-..-", "X"}, {"-.--", "Y"}, {"--..", "Z"},
    {"-----", "0"}, {".----", "1"}, {"..---", "2"}, {"...--", "3"}, {"....-", "4"},
    {".....", "5"}, {"-....", "6"}, {"--...", "7"}, {"---..", "8"}, {"----.", "9"},
    {".-.-.-", "."}, {"--..--", ","}, {"..--..", "?"}, {".----.", "\'"}, {"-.-.--", "!"},
    {"-..-.", "/"}, {"-.--.", "("}, {"-.--.-", ")"}, {".-...", "&"}, {"---...", ":"},
    {"-.-.-.", ";"}, {"-...-", "="}, {".-.-.", "+"}, {"-....-", "-"}, {"..--.-", "_"},
    {".-..-.", "\""}, {".--.-.", "@"},
};

int main()
{
    int n;
    string code, key;
    cin >> n;
    cin.ignore();
    for(int i = 1; i <= n; i++){
        getline(cin, code);
        cout << "Message #" << i << '\n';
        for(int j = 0, len = code.length(); j < len; j++){
            if(code[j] == ' ' && code[j - 1] == ' '){
                cout << ' ';
            }else if(j == len - 1 || code[j + 1] == ' '){
                key += code[j];
                cout << dah[key];
                key.clear();
            }else if(code[j] == '.' || code[j] == '-'){
                key += code[j];
            }
        }
        cout << '\n' << '\n';
    }
    return 0;
}